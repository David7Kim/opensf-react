{"ast":null,"code":"import _slicedToArray from\"D:/reactProject/opensales/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"./Login.css\";import{Link,useNavigate}from\"react-router-dom\";import{useState}from\"react\";import{onKeyPress,getUserInfo}from\"../utils/open-sf-utils\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),userAccount=_useState2[0],setUserAccount=_useState2[1];//계정\nvar _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),userPassword=_useState4[0],setUserPassword=_useState4[1];//비밀번호\nvar _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loginFailMessage=_useState6[0],setLoginFailMessage=_useState6[1];//로그인 실패시 메세지\n//로그인  리다이렉트\nvar navigate=useNavigate();//계정 이벤트 함수\nvar onChangeAccount=function onChangeAccount(e){setUserAccount(e.currentTarget.value);setLoginFailMessage(false);};//패스워드 이벤트 함수\nvar onChangePassword=function onChangePassword(e){setUserPassword(e.currentTarget.value);setLoginFailMessage(false);};//계정 로그인 함수\nvar onLogin=function onLogin(){//호출 url\nvar url=\"/login\";//api 호출\naxios.post(url,{user_account:userAccount,user_password:userPassword}).then(function(resp){console.log(\"onLogin() Response :\",resp);//Message가 Success 리턴일 경우 로그인 navigate\nif(resp.data===\"SUCCESS\"){console.log(\"로그인 하였습니다.\");navigate(\"/\");sessionStorage.setItem(\"user_account\",userAccount);sessionStorage.setItem(\"user_info\",getUserInfo(userAccount));//아닐 경우 Fail 리턴 , FailMessgae출력\n}else if(resp.data===\"FAIL\"){console.log(\"로그인에 실패 하였습니다.\");setLoginFailMessage(true);}}).catch(function(error){console.log(\"onLogin() ErrorMessage :\",error);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"login_box\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"login_logo\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"OpenSales\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"login_form\",children:[/*#__PURE__*/_jsx(\"fieldset\",{className:\"login_field\",children:/*#__PURE__*/_jsxs(\"form\",{method:\"post\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"account_txt\",children:\"\\uC544\\uC774\\uB514\"}),/*#__PURE__*/_jsx(\"div\",{className:\"account_input\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\uC544\\uC774\\uB514\",onChange:onChangeAccount,value:userAccount})}),/*#__PURE__*/_jsx(\"div\",{className:\"password_txt\",children:\"\\uBE44\\uBC00\\uBC88\\uD638\"}),/*#__PURE__*/_jsx(\"div\",{className:\"password_input\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638\",onChange:onChangePassword})}),loginFailMessage===true&&/*#__PURE__*/_jsx(\"div\",{className:\"login_error_msg\",children:\"\\uC544\\uC774\\uB514 \\uBE44\\uBC00\\uBC88\\uD638\\uB97C \\uB2E4\\uC2DC \\uD655\\uC778\\uD574\\uC8FC\\uC138\\uC694.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"find_account_div\",children:/*#__PURE__*/_jsx(\"span\",{className:\"find_account\",children:/*#__PURE__*/_jsx(Link,{to:\"/find/account\",children:\"\\uC544\\uC774\\uB514 \\uCC3E\\uAE30\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"submit_btn\",children:/*#__PURE__*/_jsx(\"input\",{className:\"button_submit\",type:\"button\",value:\"\\uB85C\\uADF8\\uC778\",onClick:onLogin,onKeyPress:onKeyPress})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"sign_up\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"ment_signup\",children:\"\\uC544\\uC9C1\\uB3C4 \\uACC4\\uC815\\uC774 \\uC5C6\\uC73C\\uC2E0\\uAC00\\uC694?\"}),/*#__PURE__*/_jsx(\"div\",{className:\"link_signup\",children:/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:\"SignUp\"})})]})]})]});}export default Login;","map":{"version":3,"names":["Link","useNavigate","useState","onKeyPress","getUserInfo","axios","Login","userAccount","setUserAccount","userPassword","setUserPassword","loginFailMessage","setLoginFailMessage","navigate","onChangeAccount","e","currentTarget","value","onChangePassword","onLogin","url","post","user_account","user_password","then","resp","console","log","data","sessionStorage","setItem","catch","error"],"sources":["D:/reactProject/opensales/src/login/Login.js"],"sourcesContent":["import \"./Login.css\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { useState } from \"react\";\r\nimport { onKeyPress, getUserInfo } from \"../utils/open-sf-utils\";\r\nimport axios from \"axios\";\r\nfunction Login() {\r\n  const [userAccount, setUserAccount] = useState(\"\"); //계정\r\n  const [userPassword, setUserPassword] = useState(\"\"); //비밀번호\r\n  const [loginFailMessage, setLoginFailMessage] = useState(false); //로그인 실패시 메세지\r\n\r\n  //로그인  리다이렉트\r\n  const navigate = useNavigate();\r\n\r\n  //계정 이벤트 함수\r\n  const onChangeAccount = (e) => {\r\n    setUserAccount(e.currentTarget.value);\r\n    setLoginFailMessage(false);\r\n  };\r\n\r\n  //패스워드 이벤트 함수\r\n  const onChangePassword = (e) => {\r\n    setUserPassword(e.currentTarget.value);\r\n    setLoginFailMessage(false);\r\n  };\r\n\r\n  //계정 로그인 함수\r\n  const onLogin = () => {\r\n    //호출 url\r\n    let url = \"/login\";\r\n    //api 호출\r\n    axios\r\n      .post(url, {\r\n        user_account: userAccount,\r\n        user_password: userPassword,\r\n      })\r\n      .then((resp) => {\r\n        console.log(\"onLogin() Response :\", resp);\r\n        //Message가 Success 리턴일 경우 로그인 navigate\r\n        if (resp.data === \"SUCCESS\") {\r\n          console.log(\"로그인 하였습니다.\");\r\n          navigate(\"/\");\r\n          sessionStorage.setItem(\"user_account\", userAccount);\r\n          sessionStorage.setItem(\"user_info\", getUserInfo(userAccount));\r\n          //아닐 경우 Fail 리턴 , FailMessgae출력\r\n        } else if (resp.data === \"FAIL\") {\r\n          console.log(\"로그인에 실패 하였습니다.\");\r\n          setLoginFailMessage(true);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"onLogin() ErrorMessage :\", error);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"login_box\">\r\n      <div className=\"login_logo\">\r\n        <h1>OpenSales</h1>\r\n      </div>\r\n      <div className=\"login_form\">\r\n        <fieldset className=\"login_field\">\r\n          <form method=\"post\">\r\n            <div className=\"account_txt\">아이디</div>\r\n            <div className=\"account_input\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"아이디\"\r\n                onChange={onChangeAccount}\r\n                value={userAccount}\r\n              ></input>\r\n            </div>\r\n            <div className=\"password_txt\">비밀번호</div>\r\n            <div className=\"password_input\">\r\n              <input\r\n                type=\"password\"\r\n                placeholder=\"비밀번호\"\r\n                onChange={onChangePassword}\r\n              ></input>\r\n            </div>\r\n            {loginFailMessage === true && (\r\n              <div className=\"login_error_msg\">\r\n                아이디 비밀번호를 다시 확인해주세요.\r\n              </div>\r\n            )}\r\n            <div className=\"find_account_div\">\r\n              <span className=\"find_account\">\r\n                <Link to=\"/find/account\">아이디 찾기</Link>\r\n              </span>\r\n            </div>\r\n            <div className=\"submit_btn\">\r\n              <input\r\n                className=\"button_submit\"\r\n                type=\"button\"\r\n                value=\"로그인\"\r\n                onClick={onLogin}\r\n                onKeyPress={onKeyPress}\r\n              ></input>\r\n            </div>\r\n          </form>\r\n        </fieldset>\r\n        <div className=\"sign_up\">\r\n          <div className=\"ment_signup\">아직도 계정이 없으신가요?</div>\r\n          <div className=\"link_signup\">\r\n            <Link to=\"/signup\">SignUp</Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}